language: java
jdk: openjdk8
branches:
  only:
  - master
  - "/.*-[0-9]+\\..*/"
install: true
git:
  depth: 3
script:
#- ".travis/build.sh"
- "python3 .travis/pre_ci.py"
# .travis/ci.py is now called from travis_build.sh, which is called by pre_ci.py ^^^
#- "conda activate scijava-conda; python3 .travis/ci.py"
cache:
  directories:
  - "~/.m2/repository"
env:
  global:
  - secure: MwnwzR75uME7xFJ1gjX4Adu1iuU6mOTz/iOTo6B6hYCsZk1pK/zCmtn3L2TYMW3G2uXJCVgdrzeNpeXt98YG5sPdIh9K3xCRAqkfzMBMK1m5zJ5M+Sjcr/GAZD89qhidDtqkZ+ldWO3kapaq9fsME0Lv6wPIgWXKPlolqapr9ZgyficZkv30aaRAXDRj/RhF5JAVDOJO63OqRnkgmdUk+o2+F0JZM44P/lPsXVaqh9YFH8VSq64MkSucC5Fmkb2FTnJDdCqQDVft06z7obUrbuMGePSSeSkDXgRJx2g07tX2GAY9LW2RkT7nlZOCcLKlUXEm9gdtGyphF6ygGqTVUcByyFmFdGy9SbaRTN266iZr7XCoeZVkmNBrGcTqIvwxSNhPj5aOO9jmhLO5gnJwUmpYmentWVj5ZfXIGKDL+QhedjM5YMjTtyE6zLZuBJ7uJfBF1b3YuJtdklZWDqFmV2kHImVgeRiS2P9VI/35/r39htU+mNt6B0nMzImgVB9GGRU9zMkUuP1fs/UEtqpkXhRYK82zIFG1caY9QgmEZHKUvgjZs/ObLTSqWoF838OOGb+LDlZAOviSN6dXCUdraZOBDkkC6VS4k+oKUKDujwfzZyuGvpa/8Ziu6HuAg9g4YxtKc4jjY0isy2OWpL+FWv4ziZaA1045K9NxHxZqGeE=
  - secure: Nk4lttA3DkuK6/3mx/lFJdD/t5Yc2v87uAROCmpI9Nqb/KX2m+0L2kSnXk7ARSYmENgUZ7jtRkTkzXhuD9bcoSxchDRmnnPSk4pZ8k0P85F/VajTHYfGpXCsKm3G2WjjNvxgKqqpkhL8StnHcjszUlg3SRlqp/2qtlbKsnnEyBZ74OmFLC/r6kZrKbLVZMk9KgneHbjutCrXMPHdZ6g6p1U7MSbJ83O7u/fVgi9sJ67fMlZGI8RNYKDwYxLTD/sbfT40OSi4YzV5T59kyt5ebEscF03TWGxnQ/g4+1JUAcBc0lzwDfCGLfLV2T6Wr1TPs81y7oAoHTElINDuN7F0cTjJELId6UCjzp5QVK8Ncbv+Rx6f1cztcd6uSOnNLzIchCCtRBPpBRfqNr7mvFxbj7JMFAt9btK+YxTbf/2Jc39vd6wvLxWzZ3Ya0rjE6ZV29hSpcbzzwreIs/yYDzBPgPsKkDz4MVDbv3y1kOPzvVIGPfGWjlnUS6vW6Gx4LyxXJcSZtZ9y+2Ef2LmIepK5p55bwxDS8awSv755zIP3GJRKnaPr1i6tzL+E8WKFBKsC/zQRypSYUSwEO8eysYqItj9/5y9CDLbPFDa/8QYx5MJgYK9ZCuAFSGY/s3lXGc+hw4O70SPs/ca8oRP5uK0tWlCdSaNGaDke3fZwVQ14R4U=
  - secure: AhDAOBC/KNkU6JBh3wXNhs6ExY6WaqQEKxfZ15nTsiHy1ZuTTEkGy26lTx1GD+Cp19QpzaO6u9KxrE8jLPioTEd1424s+82LjBnoyM2oL8eir+lkEWnGkdLRxWG1q1coY124wXiklGRpfo5fLxuDvLMzq1QQAJ4CytryK3ODhfuIDCSy9sjZlyqLz9nnZ2pJKG/EqBq3/u1n4J+/TsBjoWFaKX/wMT+PsdBGjCCpsVD9Zun6LzV4hwXT6MRBG0gT8wEM1kMgjlDUpIGV7VO/h05wSttYqOwqRMNXvWo6A4T4IB2zMKnVqFRNIFKWX5E8XpgccP1h+PCt2hjsJkYHnK4oeIWfgvLU6hkaMg5VlhbxQ+LlcTqG4dOm9zyz3wShYG4OcwTe7OjCjoPxbnHnFS56LAGHXWsH/VkzwPBOqyzhr7Mo6EMQPKcNTTJnK6xmty/i8/2A/Q24bEvjwZJMQ6JZpU2jBX4RyWHRhnbIgEMjWR4EvLVID/SbfYiUBB9eks4WvcZ2T9jMXd9WEr2PBjAqaprZ7Z9+qmPkT5W8AnMK8yJC4X5nOcDTidwopE9YiHJlnlEAB+3fiNqqHikIpx2bnNZAYFTDaZmazIJuYPnUMCPjW0fMA3FNjXb0iXs4L2KnACZFpyFHDT8GOawKXkH7ej+gqKvCn8p3cycB9PA=
  - secure: YuUwyKl4sl/TQFmj1NW7RNC4qk0mzo1ihXKVU3AukYb3UFQ2JaEz6xuv6V9idLPggJjXVPqqVfi1pzirL1JR6EeeYOGCzq1Qu8shYJptr39+SxLXAUz3iqyktroPpQJLFjUYHBoflkulKRK5HkIghJ5o8FGk+8WzyxTivL4As7Ks7793Y2UIrqlzuaSFIdsrnYbEcDZmWnBQ1fS19Nat23tGGrHD0MlaHgGv4uQHWz/yaj04l8ishdRb3XqQADf7JbJ/DzKYUN77xOOebV/mfJuvHQt4tRu9t7gtmwfNzar4m928mLIYXDDTsJPZfpp83gUGdhjDwx1bQ9gE9rG7JSp+zEOK0FvvOYcEQrwiuHWLvHbUX0riJsO0uxRcsQ5E6btm9VdmuT10mXaIz2ljgDYL2fbeM63Vl3C/jGv+ivh6bcaDlTQMMj5JDs8iqIwtTo6uiEd1r7ez0gccj1WODhrxMx0wr/c3FF3D9VZlJBNTa6Cxk3xXHhb8C89QAUnI6IvaweHEeesInB43w0ciRhwA7BUd/x0+/poBZoXhePwBM6r+VJBWR4vu9wgzkl11O98znvOlKGvl8Mx4JgYwmcS7wEfGRuwOYj+WAYzcWGcSXRE3RE3Ls8ojDiA76TvvdtzDsR2DFJmOkmTo0G5iRsGNjhgShXUWe+d1IL0fWDA=
  - secure: N4sCMFTnQnOWRH3+7TtivIYZegTpkiLX5dOuJNwv28/hfL65mmrR6yEfPWO939wymuMNtfafRuVpNMyHTXnrKrBRoUrjtXyIyRdUCCejFrem2NT6KZAdOmRIPZ3KyP2IUOwSgSeZqrEFjmYWOmV2cPiY8hD/41cw2BTTeGUBHHa90ORTPPHeEztD/9aZbahAbZZ4Y9Y125EArW0gAVXkInOS482jlq5nAzZ5kjtAEfcsOHlbr7PMGKy6mceU6eVq+pCzme6B4W1BB21p/bdeH1gE34AY49WrBsAvfSu0UG2dd5nLpFIYq1j2p8K+QxRF49KbqOptmnlHm/TQPCCQALjlsaGZqEoarIY3HbT6aQJpl620vUuUKNcvuxogFE3rj1N09yRdmuJJkODk0rLV+FSfKRrGuNPuwfJ9OVM+uKIL86kqvr6vuQ8in1jDMlHiq4pp0xnuaVWaXn/qjWKrVdtRdaB3Eehleha3cBJ5aHgcW5tvt3uMwGr7ULhhLKRFqo+Kx6y7PgPBQLViRrcn4wKG3MRGyOIeuxeXFKYMLdD1ffDlKznkC94Tby+ZMbG6KONJaOryewUNO/eEsQveq3ZHA4B8rnPbnpPzYmXeiNHkGBgahXoKoGze1waRXHJw1IYt3NG31zjjET+kc/0XdrWxFRxnjudpEcjWWwtXj/o=
deploy:
  provider: releases
  skip_cleanup: true  
  api_key:
    secure: aiqqiUxuF4Sw7heg3DkflU6XDZ9iTvf8CTRvo7/UNJRREfh57umUXsay1BIapMAQsb29ZHAnDD4B2G/6YP1ODHhJR2l+P/w42oMWoPdmZY+cC34/JbIv5snA9eUjCtqvrRMpwlW+W52ZD8eCMGe05eMsodG3QZB4pdCE6blaOLHswq/bgpm9fb3E1XxEFHi2GHaygJvfJb1qvMB70NvD+I5mlbGoHuLsyqoTg7wQMc73dh9q9hSmsS8RIic8oY7mW6usxWJXA9P576F+ZwjTe34xMnqGfLaeoxP/WLXU/zzdPIvt+0hlCkgPBH1TJbGsGrwO0cJ3GG+cs/wf2sZd4x8VTzrihnVHejsdUTWtzJjRS+KRB5Bb/c7tpMm3nZ94N/n/U4sZNHPGL2nGq2RmWCloP4v2iMEYGAD7WXIHwYINI10skoB8N6RX0SIr09IStFu098vASHWrVIAjV2d64ZqgtOnQz+B6nCBHO6s5sNy4tetF3EQsDGF3b+1NugQFNXW+6lacDMutHuQBXoSDa9FT8v7w8nkUC32RXq4G0HRny2SxSAGzPjsRk8y0ZrXNKW6myGMnBVe8Tey4rja0gXndtXLSt9G24Vnfal9QdvGynmYSmb5tnEqXnn6DZnuAbuIFZzO8jtLrulmmPB02bItnOYhHa9m0nfIV7t0/wic=
  file: sciview-linux64
  on:
    repo: scenerygraphics/sciview
#    branches:
#      only:
#        - master
